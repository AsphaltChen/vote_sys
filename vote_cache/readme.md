## 说明

- 用于候选人业务缓存服务

- 后台服务，内部调用

## 缓存信息

- K-V:

  admin [工作人员 password MD5]

- list

  vote:now 选举候选人得票数权重列表

- hash

  voter

       [mail]  所投候选人ID列表

  voting

       start    开始时间
       end      结束时间
       state true(投票进行中)/false（未开始或已结束）

## 接口

1. 校验工作人员身份

### api

    /admin

### method

    POST

### 请求

| 名称     | 类型   | 是否必须 | 描述   |
| -------- | ------ | -------- | ------ |
| username | string | 是       | 管理员 |
| password | string | 是       | 密码   |

### 响应

| 名称   | 类型    | 描述                      |
| ------ | ------- | ------------------------- |
| result | integer | 结果，0：成功，其他：失败 |

### 错误码

| http 状态码(Status Code) | 错误码(Error Code) | 错误信息(Error Message) | 描述(Description) |
| ------------------------ | ------------------ | ----------------------- | ----------------- |


2. 获取投票结果

### api

    /votes

### method

    GET

### 请求

无

### 响应

| 名称   | 类型        | 描述                      |
| ------ | ----------- | ------------------------- |
| result | Array<vote> | 结果，0：成功，其他：失败 |

vote 类型

| 名称 | 类型    | 描述   |
| ---- | ------- | ------ |
| name | string  | 候选人 |
| vote | integer | 票数   |

### 错误码

| http 状态码(Status Code) | 错误码(Error Code) | 错误信息(Error Message) | 描述(Description) |
| ------------------------ | ------------------ | ----------------------- | ----------------- |


3. 投票活动状态

### api

    /vote/state

### method

    POST

### 请求

无

### 响应

| 名称   | 类型        | 描述                      |
| ------ | ----------- | ------------------------- |
| result | Array<vote> | 结果，0：成功，其他：失败 |

vote 类型

| 名称 | 类型    | 描述   |
| ---- | ------- | ------ |
| name | string  | 候选人 |
| vote | integer | 票数   |

### 错误码

| http 状态码(Status Code) | 错误码(Error Code) | 错误信息(Error Message) | 描述(Description) |
| ------------------------ | ------------------ | ----------------------- | ----------------- |


4. 选民投票

### api

    /vote

### method

    POST

### 请求

| 名称  | 类型        | 是否必须 | 描述 |
| ----- | ----------- | -------- | ---- |
| votes | Array<vote> | 是       | 选票 |

vote 定义

| 名称     | 类型   | 是否必须 | 描述   |
| -------- | ------ | -------- | ------ |
| username | string | 是       | 候选人 |
| password | string | 是       | 密码   |

### 响应

| 名称   | 类型    | 描述                      |
| ------ | ------- | ------------------------- |
| result | integer | 结果，0：成功，其他：失败 |

### 错误码

| http 状态码(Status Code) | 错误码(Error Code) | 错误信息(Error Message) | 描述(Description) |
| ------------------------ | ------------------ | ----------------------- | ----------------- |


5. 新增候选人

### api

    /candidate

### method

    POST

### 请求

| 名称 | 类型   | 是否必须 | 描述     |
| ---- | ------ | -------- | -------- |
| name | string | 是       | 候选人名 |

### 响应

| 名称   | 类型    | 描述                      |
| ------ | ------- | ------------------------- |
| result | integer | 结果，0：成功，其他：失败 |

### 错误码

| http 状态码(Status Code) | 错误码(Error Code) | 错误信息(Error Message) | 描述(Description) |
| ------------------------ | ------------------ | ----------------------- | ----------------- |

